import{j as p,T as _,k as V,f as a,a as n,u as o,b as e,l as B,F as x,m as C,w as N,o as d,Z as j,p as y,t as c,q as f,g as v}from"./app-ciTZOVjc.js";import{_ as S}from"./Modal-BsSNX-tr.js";import{a as k,_ as h}from"./TextInput-BF6fvj4r.js";const $={class:"pt-4 pb-8"},O={class:"max-w-7xl mx-auto px-6 lg:px-8"},F={class:"lg:flex justify-between items-center sticky top-0 z-50 dark:bg-gray-900 bg-gray-100 py-4"},K={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 mt-4 z-10"},U={class:"relative overflow-x-auto rounded-lg"},q={class:"w-full text-sm text-left text-gray-500 dark:text-gray-100"},z=["onClick"],L={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-gray-200 whitespace-nowrap"},M={class:"px-6 py-4"},T={class:"px-6 py-4"},A={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},D={class:"p-4 dark:text-white"},E={key:0,class:"text-sm text-red-500"},I={key:1,class:"text-sm text-red-500 mt-0"},P={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},Z=["disabled"],R={__name:"Index",props:{blocks:Object,filters:Object,errors:Object},setup(l){const w=l,i=p(!1),g=p(null),r=_({name:"",block_number:""}),m=p({search:w.filters.search});V(m,u=>{y.get(route("blocks.index"),u,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const b=()=>{r.post(route("blocks.store"),{preserveState:u=>Object.keys(u.props.errors).length>0,preserveScroll:!0})};return(u,t)=>(d(),a(x,null,[n(o(j),{title:"Memorial"}),e("div",$,[e("div",O,[e("div",F,[e("div",null,[t[6]||(t[6]=e("span",{class:"dark:text-white text-lg font-bold mr-4"},"Blocks",-1)),e("button",{onClick:t[0]||(t[0]=()=>{i.value=!0,B(()=>g.value.focus())}),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),n(k,{modelValue:m.value.search,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.search=s),type:"text",class:"lg:w-96 mt-4 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])]),l.blocks.length?(d(),a("div",K,[e("div",U,[e("table",q,[t[7]||(t[7]=e("thead",{class:"text-xs text-gray-700 dark:text-gray-200 uppercase bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," Block Number "),e("th",{scope:"col",class:"px-6 py-3"}," Occupied Lots ")])],-1)),e("tbody",null,[(d(!0),a(x,null,C(l.blocks,s=>(d(),a("tr",{onClick:G=>o(y).get(u.route("blocks.show",s)),class:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 last:border-none hover:bg-black/10 cursor-pointer"},[e("th",L,c(s.name),1),e("td",M,c(s.block_number),1),e("td",T,c(s.acquired_lots_count),1)],8,z))),256))])])])])):(d(),a("div",A,t[8]||(t[8]=[e("span",null,"No data.",-1)])))])]),n(S,{show:i.value,onClose:t[5]||(t[5]=s=>i.value=!1)},{default:N(()=>[e("div",D,[n(h,{for:"name",value:"Block name"}),n(k,{ref_key:"blockName",ref:g,onKeyup:f(b,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(r).name,"onUpdate:modelValue":t[2]||(t[2]=s=>o(r).name=s)},null,8,["modelValue"]),l.errors.name?(d(),a("span",E,c(l.errors.name),1)):v("",!0),n(h,{class:"mt-4",for:"block_number",value:"Block number"}),n(k,{onKeyup:f(b,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:o(r).block_number,"onUpdate:modelValue":t[3]||(t[3]=s=>o(r).block_number=s)},null,8,["modelValue"]),l.errors.block_number?(d(),a("span",I,c(l.errors.block_number),1)):v("",!0),e("div",P,[e("button",{onClick:t[4]||(t[4]=s=>i.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),e("button",{onClick:b,disabled:o(r).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},c(o(r).processing?"Processing":"Submit"),9,Z)])])]),_:1},8,["show"])],64))}};export{R as default};
