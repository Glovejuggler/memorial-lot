import{k as p,T as h,l as V,f as a,a as n,u as o,b as l,m as C,F as y,p as B,w as N,o as u,Z as j,q as w,t as d,s as g,g as x}from"./app-BciNWwhk.js";import{_ as S}from"./Modal-B4uMp_ag.js";import{a as b,_ as f}from"./TextInput-Cymvzqkq.js";const $={class:"pt-4 pb-8"},F={class:"max-w-7xl mx-auto px-6 lg:px-8"},K={class:"lg:flex justify-between items-center sticky top-0 dark:bg-gray-900 bg-gray-100 py-4"},O={key:0,class:"grid lg:grid-cols-4 grid-cols-1 mt-4 gap-4"},U=["onClick"],q={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},A={class:"p-4 dark:text-white"},M={key:0,class:"text-sm text-red-500"},T={key:1,class:"text-sm text-red-500 mt-0"},D={key:2,class:"text-sm text-red-500 mt-0"},E={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},I=["disabled"],G={__name:"Index",props:{blocks:Object,filters:Object,errors:Object},setup(s){const _=s,c=p(!1),v=p(null),r=h({name:"",control_number:"",block_number:""}),k=p({search:_.filters.search});V(k,m=>{w.get(route("blocks.index"),m,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const i=()=>{r.post(route("blocks.store"),{preserveState:m=>Object.keys(m.props.errors).length>0,preserveScroll:!0})};return(m,e)=>(u(),a(y,null,[n(o(j),{title:"Memorial"}),l("div",$,[l("div",F,[l("div",K,[l("div",null,[e[7]||(e[7]=l("span",{class:"dark:text-white text-lg font-bold mr-4"},"Blocks",-1)),l("button",{onClick:e[0]||(e[0]=()=>{c.value=!0,C(()=>v.value.focus())}),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),n(b,{modelValue:k.value.search,"onUpdate:modelValue":e[1]||(e[1]=t=>k.value.search=t),type:"text",class:"lg:w-96 mt-4 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])]),s.blocks.length?(u(),a("div",O,[(u(!0),a(y,null,B(s.blocks,t=>(u(),a("div",{onClick:L=>o(w).get(m.route("blocks.show",t)),class:"w-full lg:aspect-video rounded-md border dark:border-gray-700 bg-white dark:bg-gray-800 p-4 dark:text-white flex flex-col cursor-pointer hover:shadow-md dark:hover:bg-gray-700 ease-in-out duration-200"},[l("span",null,"Name: "+d(t.name),1),l("span",null,"Control number: "+d(t.control_number),1),l("span",null,"Block number: "+d(t.block_number),1),l("span",null,"Available lots: "+d(t.lots_count-t.acquired_lots_count),1)],8,U))),256))])):(u(),a("div",q,e[8]||(e[8]=[l("span",null,"No data.",-1)])))])]),n(S,{show:c.value,onClose:e[6]||(e[6]=t=>c.value=!1)},{default:N(()=>[l("div",A,[n(f,{for:"name",value:"Block name"}),n(b,{ref_key:"blockName",ref:v,onKeyup:g(i,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(r).name,"onUpdate:modelValue":e[2]||(e[2]=t=>o(r).name=t)},null,8,["modelValue"]),s.errors.name?(u(),a("span",M,d(s.errors.name),1)):x("",!0),n(f,{class:"mt-4",for:"control_number",value:"Control number"}),n(b,{onKeyup:g(i,["enter"]),id:"control_number",type:"text",class:"mt-1 block w-full",modelValue:o(r).control_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o(r).control_number=t)},null,8,["modelValue"]),s.errors.control_number?(u(),a("span",T,d(s.errors.control_number),1)):x("",!0),n(f,{class:"mt-4",for:"block_number",value:"Block number"}),n(b,{onKeyup:g(i,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:o(r).block_number,"onUpdate:modelValue":e[4]||(e[4]=t=>o(r).block_number=t)},null,8,["modelValue"]),s.errors.block_number?(u(),a("span",D,d(s.errors.block_number),1)):x("",!0),l("div",E,[l("button",{onClick:e[5]||(e[5]=t=>c.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),l("button",{onClick:i,disabled:o(r).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},d(o(r).processing?"Processing":"Submit"),9,I)])])]),_:1},8,["show"])],64))}};export{G as default};
