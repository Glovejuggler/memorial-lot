import{k as f,T as h,l as _,f as a,a as n,u as o,b as l,F as v,m as V,w as B,o as u,Z as C,p as y,t as d,q as k,g}from"./app-CaZ-dSXp.js";import{_ as j}from"./Modal-CVeUK-cF.js";import{a as i,_ as x}from"./TextInput-B8HiEBjR.js";const S={class:"pt-4 pb-8"},$={class:"max-w-7xl mx-auto px-6 lg:px-8"},N={class:"lg:flex justify-between items-center sticky top-0 dark:bg-gray-900 bg-gray-100 py-4"},F={key:0,class:"grid lg:grid-cols-4 grid-cols-1 mt-4 gap-4"},K=["onClick"],O={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},U={class:"p-4 dark:text-white"},M={key:0,class:"text-sm text-red-500"},q={key:1,class:"text-sm text-red-500 mt-0"},A={key:2,class:"text-sm text-red-500 mt-0"},D={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},E=["disabled"],Z={__name:"Index",props:{blocks:Object,filters:Object,errors:Object},setup(s){const w=s,b=f(!1),r=h({name:"",control_number:"",block_number:""}),p=f({search:w.filters.search});_(p,m=>{y.get(route("blocks.index"),m,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const c=()=>{r.post(route("blocks.store"),{preserveState:m=>Object.keys(m.props.errors).length>0,preserveScroll:!0})};return(m,e)=>(u(),a(v,null,[n(o(C),{title:"Memorial"}),l("div",S,[l("div",$,[l("div",N,[l("div",null,[e[6]||(e[6]=l("span",{class:"dark:text-white text-lg font-bold mr-4"},"Blocks",-1)),l("button",{onClick:e[0]||(e[0]=t=>b.value=!0),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),n(i,{modelValue:p.value.search,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value.search=t),type:"text",class:"lg:w-96 mt-4 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])]),s.blocks.length?(u(),a("div",F,[(u(!0),a(v,null,V(s.blocks,t=>(u(),a("div",{onClick:I=>o(y).get(m.route("blocks.show",t)),class:"w-full lg:aspect-video rounded-md bg-white dark:bg-gray-800 p-4 dark:text-white flex flex-col cursor-pointer dark:hover:bg-gray-700 ease-in-out duration-200"},[l("span",null,"Name: "+d(t.name+` (${t.lots_count})`),1),l("span",null,"Control number: "+d(t.control_number),1),l("span",null,"Block number: "+d(t.block_number),1)],8,K))),256))])):(u(),a("div",O,e[7]||(e[7]=[l("span",null,"No data.",-1)])))])]),n(j,{show:b.value},{default:B(()=>[l("div",U,[n(x,{for:"name",value:"Block name"}),n(i,{onKeyup:k(c,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(r).name,"onUpdate:modelValue":e[2]||(e[2]=t=>o(r).name=t)},null,8,["modelValue"]),s.errors.name?(u(),a("span",M,d(s.errors.name),1)):g("",!0),n(x,{class:"mt-4",for:"control_number",value:"Control number"}),n(i,{onKeyup:k(c,["enter"]),id:"control_number",type:"text",class:"mt-1 block w-full",modelValue:o(r).control_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o(r).control_number=t)},null,8,["modelValue"]),s.errors.control_number?(u(),a("span",q,d(s.errors.control_number),1)):g("",!0),n(x,{class:"mt-4",for:"block_number",value:"Block number"}),n(i,{onKeyup:k(c,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:o(r).block_number,"onUpdate:modelValue":e[4]||(e[4]=t=>o(r).block_number=t)},null,8,["modelValue"]),s.errors.block_number?(u(),a("span",A,d(s.errors.block_number),1)):g("",!0),l("div",D,[l("button",{onClick:e[5]||(e[5]=t=>b.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),l("button",{onClick:c,disabled:o(r).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},d(o(r).processing?"Processing":"Submit"),9,E)])])]),_:1},8,["show"])],64))}};export{Z as default};
