import{j as k,k as T,T as $,f as d,a as s,u as l,b as t,w as f,F as S,m as K,o as u,Z as R,t as n,q as m,g as p,d as L,p as F}from"./app-BvOZIJrG.js";import{a as y,_ as b}from"./TextInput-DIOnQL6V.js";import{_ as h}from"./Select-D4FGEAHZ.js";import{_ as P}from"./Modal-DYy9QwUZ.js";const D={class:"py-8"},M={class:"max-w-screen-2xl mx-auto px-6 lg:px-8"},E={class:"py-4 flex justify-between"},q={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 mt-4"},Z={class:"relative overflow-x-auto rounded-lg"},z={class:"w-full text-sm text-left text-gray-500 dark:text-gray-100"},G={class:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 last:border-none hover:bg-black/10 cursor-pointer"},H={scope:"row",class:"px-3 py-4 font-medium text-gray-900 dark:text-gray-200 whitespace-nowrap"},J={class:"px-3 py-4"},Q={class:"px-3 py-4"},W={class:"px-3 py-4"},X={class:"px-3 py-4"},Y={class:"px-3 py-4"},ee={class:"px-3 py-4"},te={class:"px-3 py-4"},oe={class:"px-3 py-4"},le={class:"space-x-2"},se=["onClick"],re=["onClick"],ne={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},ae={class:"p-4 dark:text-white"},de=["value"],ue={key:0,class:"text-sm text-red-500"},ie={key:1,class:"text-sm text-red-500"},ce={key:2,class:"text-sm text-red-500"},me={key:3,class:"text-sm text-red-500 mt-0"},pe={key:4,class:"text-sm text-red-500"},be={key:5,class:"text-sm text-red-500 mt-0"},ye={key:6,class:"text-sm text-red-500 mt-0"},xe={key:7,class:"text-sm text-red-500 mt-0"},ve={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},fe=["disabled"],ke={class:"p-4 dark:text-white"},ge=["value"],we={key:0,class:"text-sm text-red-500"},Ve={key:1,class:"text-sm text-red-500"},he={key:2,class:"text-sm text-red-500"},Ce={key:3,class:"text-sm text-red-500 mt-0"},_e={key:4,class:"text-sm text-red-500"},Se={key:5,class:"text-sm text-red-500 mt-0"},Ue={key:6,class:"text-sm text-red-500 mt-0"},$e={key:7,class:"text-sm text-red-500 mt-0"},Ke={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},Le=["disabled"],Pe={class:"p-4 dark:text-white"},je={class:"flex justify-center items-center flex-col"},Oe={class:"grid grid-cols-2 gap-2 mt-6"},Ie={__name:"Index",props:{blocks:Object,lots:Object,filters:Object,errors:Object},setup(r){const j=r,g=k({search:j.filters.search,type:j.filters.type??""});T(g,i=>{F.get(route("lots.index"),i,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const U=k(!1),c=$({block_id:"",lot_number:"",contract_number:"",price:"",owner:"",address:"",contact:"",type:""}),x=()=>{c.post(route("lots.store"),{preserveState:i=>Object.keys(i.props.errors).length>0,preserveScroll:!0})},C=k(!1),a=$({block_id:"",lot_number:"",contract_number:"",price:"",owner:"",id:"",address:"",contact:"",type:""}),O=i=>{a.id=i.id,a.lot_number=i.lot_number,a.contract_number=i.contract_number,a.price=i.price,a.owner=i.owner,a.block_id=i.block_id,a.address=i.address,a.contact=i.contact,a.type=i.type,C.value=!0},v=()=>{a.put(route("lots.update",a.id),{preserveScroll:!0,preserveState:i=>Object.keys(i.props.errors).length>0,onSuccess:i=>{Object.keys(i.props.errors).length===1&&O.reset()}})},w=k(!1),V=k(null),A=i=>{V.value=i,w.value=!0},N=k(null),_=$({file:""}),B=()=>{_.post(route("lots.import"),{preserveScroll:!0,preserveState:!1,onSuccess:()=>_.reset("file"),onCancel:()=>_.reset("file")})};return(i,e)=>(u(),d(S,null,[s(l(R),{title:"Lots"}),t("input",{onInput:e[0]||(e[0]=o=>l(_).file=o.target.files[0]),onChange:B,type:"file",hidden:"",name:"import",id:"import",ref_key:"importFileInput",ref:N,accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,544),t("div",D,[t("div",M,[t("div",E,[t("div",null,[e[27]||(e[27]=t("span",{class:"dark:text-white text-lg font-bold mr-4"},"Lots",-1)),t("button",{onClick:e[1]||(e[1]=o=>U.value=!0),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new"),t("button",{onClick:e[2]||(e[2]=o=>N.value.click()),class:"bg-green-500 px-4 text-sm rounded-md text-white hover:bg-green-700 active:bg-green-800 ease-in-out duration-200 ml-4"},"Import")]),t("div",null,[s(h,{modelValue:g.value.type,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value.type=o)},{default:f(()=>e[28]||(e[28]=[t("option",{value:""},"All",-1),t("option",{value:"available"},"Available",-1),t("option",{value:"occupied"},"Occupied",-1)])),_:1},8,["modelValue"]),s(y,{modelValue:g.value.search,"onUpdate:modelValue":e[4]||(e[4]=o=>g.value.search=o),type:"text",class:"lg:w-96 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])])]),r.lots.length?(u(),d("div",q,[t("div",Z,[t("table",z,[e[29]||(e[29]=t("thead",{class:"text-xs text-gray-700 dark:text-gray-200 uppercase bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-3"}," Block Number "),t("th",{scope:"col",class:"px-3 py-3"}," Lot Number "),t("th",{scope:"col",class:"px-3 py-3"}," Type/Category "),t("th",{scope:"col",class:"px-3 py-3"}," Contract Number "),t("th",{scope:"col",class:"px-3 py-3"}," Owner "),t("th",{scope:"col",class:"px-3 py-3"}," Address "),t("th",{scope:"col",class:"px-3 py-3"}," Contact no. "),t("th",{scope:"col",class:"px-3 py-3"}," Price "),t("th",{scope:"col",class:"px-3 py-3"}," Actions ")])],-1)),t("tbody",null,[(u(!0),d(S,null,K(r.lots,o=>(u(),d("tr",G,[t("th",H,n(o.block.block_number??"-"),1),t("td",J,n(o.lot_number),1),t("td",Q,n(o.type??"-"),1),t("td",W,n(o.contract_number??"-"),1),t("td",X,n(o.owner??"-"),1),t("td",Y,n(o.address??"-"),1),t("td",ee,n(o.contact??"-"),1),t("td",te,n(Number(o.price).toAmountFormat()),1),t("td",oe,[t("div",le,[t("i",{onClick:I=>O(o),class:"bx bx-edit w-8 h-8 rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 inline-flex justify-center items-center"},null,8,se),t("i",{onClick:I=>A(o),class:"bx bx-trash w-8 h-8 rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 ease-in-out duration-200 inline-flex justify-center items-center"},null,8,re)])])]))),256))])])])])):(u(),d("div",ne,e[30]||(e[30]=[t("span",null,"No data.",-1)])))])]),s(P,{show:U.value,closeable:!1},{default:f(()=>[t("div",ae,[s(b,{for:"block_number",value:"Block number"}),s(h,{onKeyup:m(x,["enter"]),id:"block_number",class:"mt-1 block w-full",modelValue:l(c).block_id,"onUpdate:modelValue":e[5]||(e[5]=o=>l(c).block_id=o)},{default:f(()=>[(u(!0),d(S,null,K(r.blocks,o=>(u(),d("option",{value:o.id},n(`${o.block_number} (${o.name})`),9,de))),256))]),_:1},8,["modelValue"]),r.errors.block_id?(u(),d("span",ue,n(r.errors.block_id),1)):p("",!0),s(b,{class:"mt-4",for:"type",value:"Type/Category"}),s(h,{onKeyup:m(x,["enter"]),id:"type",class:"mt-1 block w-full",modelValue:l(c).type,"onUpdate:modelValue":e[6]||(e[6]=o=>l(c).type=o)},{default:f(()=>e[31]||(e[31]=[t("option",{value:"",selected:"",hidden:"",disabled:""},"Choose one",-1),t("option",{value:"Regular"},"Regular",-1),t("option",{value:"Premium"},"Premium",-1),t("option",{value:"Super Premium"},"Super Premium",-1),t("option",{value:"Super Special Premium"},"Super Special Premium",-1)])),_:1},8,["modelValue"]),r.errors.type?(u(),d("span",ie,n(r.errors.type),1)):p("",!0),s(b,{class:"mt-4",for:"lot_number",value:"Lot number"}),s(y,{onKeyup:m(x,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:l(c).lot_number,"onUpdate:modelValue":e[7]||(e[7]=o=>l(c).lot_number=o)},null,8,["modelValue"]),r.errors.lot_number?(u(),d("span",ce,n(r.errors.lot_number),1)):p("",!0),s(b,{class:"mt-4",for:"price",value:"Price"}),s(y,{onKeyup:m(x,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:l(c).price,"onUpdate:modelValue":e[8]||(e[8]=o=>l(c).price=o)},null,8,["modelValue"]),r.errors.price?(u(),d("span",me,n(r.errors.price),1)):p("",!0),s(b,{class:"mt-4",for:"contract_number",value:"Contract number"}),s(y,{onKeyup:m(x,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:l(c).contract_number,"onUpdate:modelValue":e[9]||(e[9]=o=>l(c).contract_number=o)},null,8,["modelValue"]),r.errors.contract_number?(u(),d("span",pe,n(r.errors.contract_number),1)):p("",!0),s(b,{class:"mt-4",for:"owner",value:"Owner"}),s(y,{onKeyup:m(x,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:l(c).owner,"onUpdate:modelValue":e[10]||(e[10]=o=>l(c).owner=o)},null,8,["modelValue"]),r.errors.owner?(u(),d("span",be,n(r.errors.owner),1)):p("",!0),s(b,{class:"mt-4",for:"address",value:"Address"}),s(y,{onKeyup:m(x,["enter"]),id:"address",type:"text",class:"mt-1 block w-full",modelValue:l(c).address,"onUpdate:modelValue":e[11]||(e[11]=o=>l(c).address=o)},null,8,["modelValue"]),r.errors.address?(u(),d("span",ye,n(r.errors.address),1)):p("",!0),s(b,{class:"mt-4",for:"contact",value:"Contact no."}),s(y,{onKeyup:m(x,["enter"]),id:"contact",type:"text",class:"mt-1 block w-full",modelValue:l(c).contact,"onUpdate:modelValue":e[12]||(e[12]=o=>l(c).contact=o)},null,8,["modelValue"]),r.errors.contact?(u(),d("span",xe,n(r.errors.contact),1)):p("",!0),t("div",ve,[t("button",{onClick:e[13]||(e[13]=o=>U.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:x,disabled:l(c).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(l(c).processing?"Processing":"Submit"),9,fe)])])]),_:1},8,["show"]),s(P,{show:C.value,onClose:e[23]||(e[23]=o=>C.value=!1)},{default:f(()=>[t("div",ke,[s(b,{for:"block_number",value:"Block number"}),s(h,{onKeyup:m(v,["enter"]),id:"block_number",class:"mt-1 block w-full",modelValue:l(a).block_id,"onUpdate:modelValue":e[14]||(e[14]=o=>l(a).block_id=o)},{default:f(()=>[(u(!0),d(S,null,K(r.blocks,o=>(u(),d("option",{value:o.id},n(`${o.block_number} (${o.name})`),9,ge))),256))]),_:1},8,["modelValue"]),r.errors.block_id?(u(),d("span",we,n(r.errors.block_id),1)):p("",!0),s(b,{class:"mt-4",for:"type",value:"Type/Category"}),s(h,{onKeyup:m(v,["enter"]),id:"type",class:"mt-1 block w-full",modelValue:l(a).type,"onUpdate:modelValue":e[15]||(e[15]=o=>l(a).type=o)},{default:f(()=>e[32]||(e[32]=[t("option",{value:"",selected:"",hidden:"",disabled:""},"Choose one",-1),t("option",{value:"Regular"},"Regular",-1),t("option",{value:"Premium"},"Premium",-1),t("option",{value:"Super Premium"},"Super Premium",-1),t("option",{value:"Super Special Premium"},"Super Special Premium",-1)])),_:1},8,["modelValue"]),r.errors.type?(u(),d("span",Ve,n(r.errors.type),1)):p("",!0),s(b,{class:"mt-4",for:"lot_number",value:"Lot number"}),s(y,{onKeyup:m(v,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:l(a).lot_number,"onUpdate:modelValue":e[16]||(e[16]=o=>l(a).lot_number=o)},null,8,["modelValue"]),r.errors.lot_number?(u(),d("span",he,n(r.errors.lot_number),1)):p("",!0),s(b,{class:"mt-4",for:"price",value:"Price"}),s(y,{onKeyup:m(v,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:l(a).price,"onUpdate:modelValue":e[17]||(e[17]=o=>l(a).price=o)},null,8,["modelValue"]),r.errors.price?(u(),d("span",Ce,n(r.errors.price),1)):p("",!0),s(b,{class:"mt-4",for:"contract_number",value:"Contract number"}),s(y,{onKeyup:m(v,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:l(a).contract_number,"onUpdate:modelValue":e[18]||(e[18]=o=>l(a).contract_number=o)},null,8,["modelValue"]),r.errors.contract_number?(u(),d("span",_e,n(r.errors.contract_number),1)):p("",!0),s(b,{class:"mt-4",for:"owner",value:"Owner"}),s(y,{onKeyup:m(v,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:l(a).owner,"onUpdate:modelValue":e[19]||(e[19]=o=>l(a).owner=o)},null,8,["modelValue"]),r.errors.owner?(u(),d("span",Se,n(r.errors.owner),1)):p("",!0),s(b,{class:"mt-4",for:"address",value:"Address"}),s(y,{onKeyup:m(v,["enter"]),id:"address",type:"text",class:"mt-1 block w-full",modelValue:l(a).address,"onUpdate:modelValue":e[20]||(e[20]=o=>l(a).address=o)},null,8,["modelValue"]),r.errors.address?(u(),d("span",Ue,n(r.errors.address),1)):p("",!0),s(b,{class:"mt-4",for:"contact",value:"Contact no."}),s(y,{onKeyup:m(v,["enter"]),id:"contact",type:"text",class:"mt-1 block w-full",modelValue:l(a).contact,"onUpdate:modelValue":e[21]||(e[21]=o=>l(a).contact=o)},null,8,["modelValue"]),r.errors.contact?(u(),d("span",$e,n(r.errors.contact),1)):p("",!0),t("div",Ke,[t("button",{onClick:e[22]||(e[22]=o=>C.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:v,disabled:l(a).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(l(a).processing?"Processing":"Submit"),9,Le)])])]),_:1},8,["show"]),s(P,{show:w.value,onClose:e[26]||(e[26]=o=>w.value=!1)},{default:f(()=>[t("div",Pe,[t("div",je,[e[36]||(e[36]=t("i",{class:"bx bx-info-circle text-7xl text-red-500"},null,-1)),t("p",null,[e[33]||(e[33]=L("Delete block number ")),t("b",null,n(V.value.block.block_number),1),e[34]||(e[34]=L(" lot number ")),t("b",null,n(V.value.lot_number),1),e[35]||(e[35]=L("?"))])]),t("div",Oe,[t("button",{onClick:e[24]||(e[24]=o=>l(F).delete(i.route("lots.destroy",V.value),{onSuccess:()=>{V.value=null,w.value=!1}})),class:"text-white bg-red-500 hover:bg-red-700 active:bg-red-900 rounded-md py-1 ease-in-out duration-200"},"Delete"),t("button",{onClick:e[25]||(e[25]=o=>w.value=!1),class:"border dark:border-gray-100 border-black hover:bg-black hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-800 py-1 rounded-md ease-in-out duration-200"},"Cancel")])])]),_:1},8,["show"])],64))}};export{Ie as default};
