import{j as w,T as O,k as T,f as u,a as r,u as s,b as t,t as n,F as N,m as D,w as g,o as i,Z as E,q as m,g as b,d as P,p as B}from"./app-BvOZIJrG.js";import{_ as C}from"./Modal-DYy9QwUZ.js";import{a as x,_ as p}from"./TextInput-DIOnQL6V.js";import{_ as A}from"./Select-D4FGEAHZ.js";const R={class:"py-8"},q={class:"max-w-screen-2xl mx-auto px-6 lg:px-8"},z={class:"bg-white dark:bg-gray-800 p-6 rounded-md dark:text-white border dark:border-gray-700 shadow-sm grid grid-cols-3 gap-2"},Z={class:"text-3xl font-bold mb-4"},G={class:"text-sm"},H={class:"flex mt-4 space-x-2"},I={class:"py-4 flex justify-between"},J={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 mt-4"},Q={class:"relative overflow-x-auto rounded-lg"},W={class:"w-full text-sm text-left text-gray-500 dark:text-gray-100"},X={class:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 last:border-none hover:bg-black/10 cursor-pointer"},Y={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-gray-200 whitespace-nowrap"},ee={class:"px-6 py-4"},te={class:"px-6 py-4"},le={class:"px-6 py-4"},oe={class:"px-6 py-4"},se={class:"px-6 py-4"},re={class:"px-6 py-4"},ne={class:"px-6 py-4"},ae={class:"space-x-2"},de=["onClick"],ue=["onClick"],ie={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},ce={class:"p-4 dark:text-white"},me={key:0,class:"text-sm text-red-500"},be={key:1,class:"text-sm text-red-500"},pe={key:2,class:"text-sm text-red-500 mt-0"},xe={key:3,class:"text-sm text-red-500"},ve={key:4,class:"text-sm text-red-500 mt-0"},ye={key:5,class:"text-sm text-red-500 mt-0"},ke={key:6,class:"text-sm text-red-500 mt-0"},ge={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},fe=["disabled"],we={class:"p-4 dark:text-white"},he={key:0,class:"text-sm text-red-500"},Ve={key:1,class:"text-sm text-red-500 mt-0"},Ce={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},Se=["disabled"],$e={class:"p-4 dark:text-white"},je={class:"flex justify-center items-center flex-col"},Ue={class:"grid grid-cols-2 gap-2 mt-6"},Pe={class:"p-4 dark:text-white"},Ke={key:0,class:"text-sm text-red-500"},Le={key:1,class:"text-sm text-red-500"},Oe={key:2,class:"text-sm text-red-500 mt-0"},Ne={key:3,class:"text-sm text-red-500"},Be={key:4,class:"text-sm text-red-500 mt-0"},Ae={key:5,class:"text-sm text-red-500 mt-0"},Fe={key:6,class:"text-sm text-red-500 mt-0"},De={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},_e=["disabled"],Me={class:"p-4 dark:text-white"},Te={class:"flex justify-center items-center flex-col"},Ee={class:"grid grid-cols-2 gap-2 mt-6"},Ge={__name:"Show",props:{block:Object,errors:Object,lots:Object,filters:Object,occupied:Number,available:Number,tallies:Object},setup(o){const v=o,K=w(!1),S=w(!1),$=w(!1),j=w(!1),h=w(!1),f=O({name:v.block.name,block_number:v.block.block_number}),c=O({block_id:v.block.id,type:"",lot_number:"",contract_number:"",price:"",owner:"",address:"",contact:""}),a=O({block_id:v.block.id,type:"",lot_number:"",contract_number:"",price:"",owner:"",address:"",contact:"",id:""}),y=()=>{c.post(route("lots.store"),{preserveState:d=>Object.keys(d.props.errors).length>0,preserveScroll:!0})},L=()=>{f.put(route("blocks.update",v.block),{preserveScroll:!0,preserveState:d=>Object.keys(d.props.errors).length>0})},F=d=>{a.id=d.id,a.type=d.type,a.lot_number=d.lot_number,a.contract_number=d.contract_number,a.price=d.price,a.owner=d.owner,a.block_id=v.block.id,a.address=d.address,a.contact=d.contact,j.value=!0},k=()=>{a.put(route("lots.update",a.id),{preserveScroll:!0,preserveState:d=>Object.keys(d.props.errors).length>0,onSuccess:d=>{Object.keys(d.props.errors).length===1&&F.reset()}})},U=w(null),_=d=>{U.value=d,h.value=!0},V=w({search:v.filters.search,type:v.filters.type??""});return T(V,d=>{B.get(route("blocks.show",v.block),d,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0}),(d,e)=>(i(),u(N,null,[r(s(E),{title:o.block.name},null,8,["title"]),t("div",R,[t("div",q,[t("div",z,[t("div",null,[t("p",Z,n(o.block.name),1),t("p",G,"Block number: "+n(o.block.block_number),1),t("div",H,[t("button",{onClick:e[0]||(e[0]=l=>S.value=!0),class:"rounded-md text-white px-4 text-sm bg-green-500 hover:bg-green-700 active:bg-green-900 ease-in-out duration-200"},"Edit"),t("button",{onClick:e[1]||(e[1]=l=>$.value=!0),class:"rounded-md text-white px-4 text-sm bg-red-500 hover:bg-red-700 active:bg-red-900 ease-in-out duration-200"},"Delete")])]),t("div",null,[t("p",null,"Availalble lots: "+n(o.available),1),t("p",null,"Occupied lots: "+n(o.occupied),1)]),t("div",null,[(i(!0),u(N,null,D(o.tallies,l=>(i(),u("p",null,n(`${l.type??"Uncategorized"}: ${l.count}`),1))),256))])]),t("div",I,[t("div",null,[e[32]||(e[32]=t("span",{class:"dark:text-white text-lg font-bold mr-4"},"Lots",-1)),t("button",{onClick:e[2]||(e[2]=l=>K.value=!0),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),t("div",null,[r(A,{modelValue:V.value.type,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value.type=l)},{default:g(()=>e[33]||(e[33]=[t("option",{value:""},"All",-1),t("option",{value:"available"},"Available",-1),t("option",{value:"occupied"},"Occupied",-1)])),_:1},8,["modelValue"]),r(x,{modelValue:V.value.search,"onUpdate:modelValue":e[4]||(e[4]=l=>V.value.search=l),type:"text",class:"lg:w-96 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])])]),o.lots.length?(i(),u("div",J,[t("div",Q,[t("table",W,[e[34]||(e[34]=t("thead",{class:"text-xs text-gray-700 dark:text-gray-200 uppercase bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Lot Number "),t("th",{scope:"col",class:"px-6 py-3"}," Type/Category "),t("th",{scope:"col",class:"px-6 py-3"}," Contract Number "),t("th",{scope:"col",class:"px-6 py-3"}," Owner "),t("th",{scope:"col",class:"px-6 py-3"}," Address "),t("th",{scope:"col",class:"px-6 py-3"}," Contact no. "),t("th",{scope:"col",class:"px-6 py-3"}," Price "),t("th",{scope:"col",class:"px-6 py-3"}," Actions ")])],-1)),t("tbody",null,[(i(!0),u(N,null,D(o.lots,l=>(i(),u("tr",X,[t("th",Y,n(l.lot_number),1),t("td",ee,n(l.type??"-"),1),t("td",te,n(l.contract_number??"-"),1),t("td",le,n(l.owner??"-"),1),t("td",oe,n(l.address??"-"),1),t("td",se,n(l.contact??"-"),1),t("td",re,n(Number(l.price).toAmountFormat()),1),t("td",ne,[t("div",ae,[t("i",{onClick:M=>F(l),class:"bx bx-edit w-8 h-8 rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 inline-flex justify-center items-center"},null,8,de),t("i",{onClick:M=>_(l),class:"bx bx-trash w-8 h-8 rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 ease-in-out duration-200 inline-flex justify-center items-center"},null,8,ue)])])]))),256))])])])])):(i(),u("div",ie,e[35]||(e[35]=[t("span",null,"No data.",-1)])))])]),r(C,{show:K.value,closeable:!1},{default:g(()=>[t("div",ce,[r(p,{for:"type",value:"Type"}),r(A,{onKeyup:m(y,["enter"]),id:"type",type:"text",class:"mt-1 block w-full",modelValue:s(c).type,"onUpdate:modelValue":e[5]||(e[5]=l=>s(c).type=l)},{default:g(()=>e[36]||(e[36]=[t("option",{value:"",selected:"",hidden:"",disabled:""},"Choose one",-1),t("option",{value:"Regular"},"Regular",-1),t("option",{value:"Premium"},"Premium",-1),t("option",{value:"Super Premium"},"Super Premium",-1),t("option",{value:"Super Special Premium"},"Super Special Premium",-1)])),_:1},8,["modelValue"]),o.errors.type?(i(),u("span",me,n(o.errors.type),1)):b("",!0),r(p,{class:"mt-4",for:"lot_number",value:"Lot number"}),r(x,{onKeyup:m(y,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:s(c).lot_number,"onUpdate:modelValue":e[6]||(e[6]=l=>s(c).lot_number=l)},null,8,["modelValue"]),o.errors.lot_number?(i(),u("span",be,n(o.errors.lot_number),1)):b("",!0),r(p,{class:"mt-4",for:"price",value:"Price"}),r(x,{onKeyup:m(y,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:s(c).price,"onUpdate:modelValue":e[7]||(e[7]=l=>s(c).price=l)},null,8,["modelValue"]),o.errors.price?(i(),u("span",pe,n(o.errors.price),1)):b("",!0),r(p,{class:"mt-4",for:"contract_number",value:"Contract number"}),r(x,{onKeyup:m(y,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:s(c).contract_number,"onUpdate:modelValue":e[8]||(e[8]=l=>s(c).contract_number=l)},null,8,["modelValue"]),o.errors.contract_number?(i(),u("span",xe,n(o.errors.contract_number),1)):b("",!0),r(p,{class:"mt-4",for:"owner",value:"Owner"}),r(x,{onKeyup:m(y,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:s(c).owner,"onUpdate:modelValue":e[9]||(e[9]=l=>s(c).owner=l)},null,8,["modelValue"]),o.errors.owner?(i(),u("span",ve,n(o.errors.owner),1)):b("",!0),r(p,{class:"mt-4",for:"address",value:"Address"}),r(x,{onKeyup:m(y,["enter"]),id:"address",type:"text",class:"mt-1 block w-full",modelValue:s(c).address,"onUpdate:modelValue":e[10]||(e[10]=l=>s(c).address=l)},null,8,["modelValue"]),o.errors.address?(i(),u("span",ye,n(o.errors.address),1)):b("",!0),r(p,{class:"mt-4",for:"contact",value:"Contact no."}),r(x,{onKeyup:m(y,["enter"]),id:"contact",type:"text",class:"mt-1 block w-full",modelValue:s(c).contact,"onUpdate:modelValue":e[11]||(e[11]=l=>s(c).contact=l)},null,8,["modelValue"]),o.errors.contact?(i(),u("span",ke,n(o.errors.contact),1)):b("",!0),t("div",ge,[t("button",{onClick:e[12]||(e[12]=l=>K.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:y,disabled:s(c).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(s(c).processing?"Processing":"Submit"),9,fe)])])]),_:1},8,["show"]),r(C,{show:S.value,onClose:e[16]||(e[16]=l=>S.value=!1)},{default:g(()=>[t("div",we,[r(p,{for:"name",value:"Block name"}),r(x,{onKeyup:m(L,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(f).name,"onUpdate:modelValue":e[13]||(e[13]=l=>s(f).name=l)},null,8,["modelValue"]),o.errors.name?(i(),u("span",he,n(o.errors.name),1)):b("",!0),r(p,{class:"mt-4",for:"block_number",value:"Block number"}),r(x,{onKeyup:m(L,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:s(f).block_number,"onUpdate:modelValue":e[14]||(e[14]=l=>s(f).block_number=l)},null,8,["modelValue"]),o.errors.block_number?(i(),u("span",Ve,n(o.errors.block_number),1)):b("",!0),t("div",Ce,[t("button",{onClick:e[15]||(e[15]=l=>S.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:L,disabled:s(f).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(s(f).processing?"Processing":"Submit"),9,Se)])])]),_:1},8,["show"]),r(C,{show:$.value,onClose:e[19]||(e[19]=l=>$.value=!1)},{default:g(()=>[t("div",$e,[t("div",je,[e[39]||(e[39]=t("i",{class:"bx bx-info-circle text-7xl text-red-500"},null,-1)),t("p",null,[e[37]||(e[37]=P("Delete the block ")),t("b",null,n(o.block.name),1),e[38]||(e[38]=P("?"))])]),t("div",Ue,[t("button",{onClick:e[17]||(e[17]=l=>s(B).delete(d.route("blocks.destroy",o.block))),class:"text-white bg-red-500 hover:bg-red-700 active:bg-red-900 rounded-md py-1 ease-in-out duration-200"},"Delete"),t("button",{onClick:e[18]||(e[18]=l=>$.value=!1),class:"border dark:border-gray-100 border-black hover:bg-black hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-800 py-1 rounded-md ease-in-out duration-200"},"Cancel")])])]),_:1},8,["show"]),r(C,{show:j.value,onClose:e[28]||(e[28]=l=>j.value=!1)},{default:g(()=>[t("div",Pe,[r(p,{for:"type",value:"Type"}),r(A,{onKeyup:m(k,["enter"]),id:"type",type:"text",class:"mt-1 block w-full",modelValue:s(a).type,"onUpdate:modelValue":e[20]||(e[20]=l=>s(a).type=l)},{default:g(()=>e[40]||(e[40]=[t("option",{value:"",selected:"",hidden:"",disabled:""},"Choose one",-1),t("option",{value:"Regular"},"Regular",-1),t("option",{value:"Premium"},"Premium",-1),t("option",{value:"Super Premium"},"Super Premium",-1),t("option",{value:"Super Special Premium"},"Super Special Premium",-1)])),_:1},8,["modelValue"]),o.errors.type?(i(),u("span",Ke,n(o.errors.type),1)):b("",!0),r(p,{class:"mt-4",for:"lot_number",value:"Lot number"}),r(x,{onKeyup:m(k,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:s(a).lot_number,"onUpdate:modelValue":e[21]||(e[21]=l=>s(a).lot_number=l)},null,8,["modelValue"]),o.errors.lot_number?(i(),u("span",Le,n(o.errors.lot_number),1)):b("",!0),r(p,{class:"mt-4",for:"price",value:"Price"}),r(x,{onKeyup:m(k,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:s(a).price,"onUpdate:modelValue":e[22]||(e[22]=l=>s(a).price=l)},null,8,["modelValue"]),o.errors.price?(i(),u("span",Oe,n(o.errors.price),1)):b("",!0),r(p,{class:"mt-4",for:"contract_number",value:"Contract number"}),r(x,{onKeyup:m(k,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:s(a).contract_number,"onUpdate:modelValue":e[23]||(e[23]=l=>s(a).contract_number=l)},null,8,["modelValue"]),o.errors.contract_number?(i(),u("span",Ne,n(o.errors.contract_number),1)):b("",!0),r(p,{class:"mt-4",for:"owner",value:"Owner"}),r(x,{onKeyup:m(k,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:s(a).owner,"onUpdate:modelValue":e[24]||(e[24]=l=>s(a).owner=l)},null,8,["modelValue"]),o.errors.owner?(i(),u("span",Be,n(o.errors.owner),1)):b("",!0),r(p,{class:"mt-4",for:"address",value:"Address"}),r(x,{onKeyup:m(k,["enter"]),id:"address",type:"text",class:"mt-1 block w-full",modelValue:s(a).address,"onUpdate:modelValue":e[25]||(e[25]=l=>s(a).address=l)},null,8,["modelValue"]),o.errors.address?(i(),u("span",Ae,n(o.errors.address),1)):b("",!0),r(p,{class:"mt-4",for:"contact",value:"Contact no."}),r(x,{onKeyup:m(k,["enter"]),id:"contact",type:"text",class:"mt-1 block w-full",modelValue:s(a).contact,"onUpdate:modelValue":e[26]||(e[26]=l=>s(a).contact=l)},null,8,["modelValue"]),o.errors.contact?(i(),u("span",Fe,n(o.errors.contact),1)):b("",!0),t("div",De,[t("button",{onClick:e[27]||(e[27]=l=>j.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:k,disabled:s(a).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(s(a).processing?"Processing":"Submit"),9,_e)])])]),_:1},8,["show"]),r(C,{show:h.value,onClose:e[31]||(e[31]=l=>h.value=!1)},{default:g(()=>[t("div",Me,[t("div",Te,[e[43]||(e[43]=t("i",{class:"bx bx-info-circle text-7xl text-red-500"},null,-1)),t("p",null,[e[41]||(e[41]=P("Delete lot number ")),t("b",null,n(U.value.lot_number),1),e[42]||(e[42]=P("?"))])]),t("div",Ee,[t("button",{onClick:e[29]||(e[29]=l=>s(B).delete(d.route("lots.destroy",U.value),{onSuccess:()=>{U.value=null,h.value=!1}})),class:"text-white bg-red-500 hover:bg-red-700 active:bg-red-900 rounded-md py-1 ease-in-out duration-200"},"Delete"),t("button",{onClick:e[30]||(e[30]=l=>h.value=!1),class:"border dark:border-gray-100 border-black hover:bg-black hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-800 py-1 rounded-md ease-in-out duration-200"},"Cancel")])])]),_:1},8,["show"])],64))}};export{Ge as default};
