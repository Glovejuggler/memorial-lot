import{j as p,T as B,f as u,a as s,u as r,b as t,t as n,F as U,m as P,g as m,w as h,o as i,Z as M,n as E,q as c,d as L,p as N}from"./app-BnLBjrV2.js";import{_ as V}from"./Modal-kdz066Hw.js";import{_ as v}from"./InputLabel-B58vQIe_.js";import{_ as x}from"./TextInput-CNVlmm_7.js";const A={class:"py-8"},T={class:"max-w-7xl mx-auto px-6 lg:px-8"},q={class:"bg-white dark:bg-gray-800 p-6 rounded-md dark:text-white border dark:border-gray-700 shadow-sm"},z={class:"text-3xl font-bold mb-4"},Z={class:"text-sm"},G={class:"flex mt-4 space-x-2"},H={class:"py-4"},I={key:0,class:"grid lg:grid-cols-4 grid-cols-1 gap-4"},J={key:0},Q={key:1},R={class:"absolute bottom-4 right-4 space-x-2 flex text-white"},W=["onClick"],X=["onClick"],Y={class:"p-4 dark:text-white"},ee={key:0,class:"text-sm text-red-500"},te={key:1,class:"text-sm text-red-500 mt-0"},oe={key:2,class:"text-sm text-red-500"},re={key:3,class:"text-sm text-red-500 mt-0"},le={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},se=["disabled"],ne={class:"p-4 dark:text-white"},de={key:0,class:"text-sm text-red-500"},ae={key:1,class:"text-sm text-red-500 mt-0"},ue={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},ie=["disabled"],me={class:"p-4 dark:text-white"},be={class:"flex justify-center items-center flex-col"},ce={class:"grid grid-cols-2 gap-2 mt-6"},ve={class:"p-4 dark:text-white"},xe={key:0,class:"text-sm text-red-500"},ke={key:1,class:"text-sm text-red-500 mt-0"},ge={key:2,class:"text-sm text-red-500"},pe={key:3,class:"text-sm text-red-500 mt-0"},fe={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},we=["disabled"],ye={class:"p-4 dark:text-white"},he={class:"flex justify-center items-center flex-col"},Ve={class:"grid grid-cols-2 gap-2 mt-6"},Le={__name:"Show",props:{block:Object,errors:Object,lots:Object},setup(l){const g=l,S=p(!1),C=p(!1),_=p(!1),$=p(!1),f=p(!1),k=B({name:g.block.name,block_number:g.block.block_number}),b=B({block_id:g.block.id,lot_number:"",contract_number:"",price:"",owner:""}),d=B({block_id:g.block.id,lot_number:"",contract_number:"",price:"",owner:"",id:""}),w=()=>{b.post(route("lots.store"),{preserveState:a=>Object.keys(a.props.errors).length>0,preserveScroll:!0})},K=()=>{k.put(route("blocks.update",g.block),{preserveScroll:!0,preserveState:a=>Object.keys(a.props.errors).length>0})},O=a=>{d.id=a.id,d.lot_number=a.lot_number,d.contract_number=a.contract_number,d.price=a.price,d.owner=a.owner,d.block_id=g.block.id,$.value=!0},y=()=>{d.put(route("lots.update",d.id),{preserveScroll:!0,preserveState:a=>Object.keys(a.props.errors).length>0,onSuccess:a=>{Object.keys(a.props.errors).length===1&&O.reset()}})},j=p(null),D=a=>{j.value=a,f.value=!0};return(a,e)=>(i(),u(U,null,[s(r(M),{title:l.block.name},null,8,["title"]),t("div",A,[t("div",T,[t("div",q,[t("p",z,n(l.block.name),1),t("p",Z,"Block number: "+n(l.block.block_number),1),t("div",G,[t("button",{onClick:e[0]||(e[0]=o=>C.value=!0),class:"rounded-md text-white px-4 text-sm bg-green-500 hover:bg-green-700 active:bg-green-900 ease-in-out duration-200"},"Edit"),t("button",{onClick:e[1]||(e[1]=o=>_.value=!0),class:"rounded-md text-white px-4 text-sm bg-red-500 hover:bg-red-700 active:bg-red-900 ease-in-out duration-200"},"Delete")])]),t("div",H,[e[24]||(e[24]=t("span",{class:"dark:text-white text-lg font-bold mr-4"},"Lots",-1)),t("button",{onClick:e[2]||(e[2]=o=>S.value=!0),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),l.lots.length?(i(),u("div",I,[(i(!0),u(U,null,P(l.lots,o=>(i(),u("div",{class:E(["relative w-full lg:aspect-video rounded-md bg-white dark:bg-gray-800 p-4 dark:text-white flex flex-col cursor-pointer ease-in-out duration-200 border",o.owner?"border-blue-500":"border-green-500"])},[o.contract_number?(i(),u("span",J,"Contract Number: "+n(o.contract_number),1)):m("",!0),o.owner?(i(),u("span",Q,"Owner: "+n(o.owner),1)):m("",!0),t("span",null,"Lot number: "+n(o.lot_number),1),t("span",null,"Price: "+n(Number(o.price).toAmountFormat()),1),t("div",R,[t("i",{onClick:F=>O(o),class:"rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 duration-200 ease-in-out h-10 w-10 bx bx-edit inline-flex justify-center items-center"},null,8,W),t("i",{onClick:F=>D(o),class:"rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out h-10 w-10 bx bx-trash inline-flex justify-center items-center"},null,8,X)])],2))),256))])):m("",!0)])]),s(V,{show:S.value,closeable:!1},{default:h(()=>[t("div",Y,[s(v,{for:"lot_number",value:"Lot number"}),s(x,{onKeyup:c(w,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:r(b).lot_number,"onUpdate:modelValue":e[3]||(e[3]=o=>r(b).lot_number=o)},null,8,["modelValue"]),l.errors.lot_number?(i(),u("span",ee,n(l.errors.lot_number),1)):m("",!0),s(v,{class:"mt-4",for:"price",value:"Price"}),s(x,{onKeyup:c(w,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:r(b).price,"onUpdate:modelValue":e[4]||(e[4]=o=>r(b).price=o)},null,8,["modelValue"]),l.errors.price?(i(),u("span",te,n(l.errors.price),1)):m("",!0),s(v,{class:"mt-4",for:"contract_number",value:"Contract number"}),s(x,{onKeyup:c(w,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:r(b).contract_number,"onUpdate:modelValue":e[5]||(e[5]=o=>r(b).contract_number=o)},null,8,["modelValue"]),l.errors.contract_number?(i(),u("span",oe,n(l.errors.contract_number),1)):m("",!0),s(v,{class:"mt-4",for:"owner",value:"Owner"}),s(x,{onKeyup:c(w,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:r(b).owner,"onUpdate:modelValue":e[6]||(e[6]=o=>r(b).owner=o)},null,8,["modelValue"]),l.errors.owner?(i(),u("span",re,n(l.errors.owner),1)):m("",!0),t("div",le,[t("button",{onClick:e[7]||(e[7]=o=>S.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:w,disabled:r(b).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(r(b).processing?"Processing":"Submit"),9,se)])])]),_:1},8,["show"]),s(V,{show:C.value,onClose:e[11]||(e[11]=o=>C.value=!1)},{default:h(()=>[t("div",ne,[s(v,{for:"name",value:"Block name"}),s(x,{onKeyup:c(K,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(k).name,"onUpdate:modelValue":e[8]||(e[8]=o=>r(k).name=o)},null,8,["modelValue"]),l.errors.name?(i(),u("span",de,n(l.errors.name),1)):m("",!0),s(v,{class:"mt-4",for:"block_number",value:"Block number"}),s(x,{onKeyup:c(K,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:r(k).block_number,"onUpdate:modelValue":e[9]||(e[9]=o=>r(k).block_number=o)},null,8,["modelValue"]),l.errors.block_number?(i(),u("span",ae,n(l.errors.block_number),1)):m("",!0),t("div",ue,[t("button",{onClick:e[10]||(e[10]=o=>C.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:K,disabled:r(k).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(r(k).processing?"Processing":"Submit"),9,ie)])])]),_:1},8,["show"]),s(V,{show:_.value,onClose:e[14]||(e[14]=o=>_.value=!1)},{default:h(()=>[t("div",me,[t("div",be,[e[27]||(e[27]=t("i",{class:"bx bx-info-circle text-7xl text-red-500"},null,-1)),t("p",null,[e[25]||(e[25]=L("Delete the block ")),t("b",null,n(l.block.name),1),e[26]||(e[26]=L("?"))])]),t("div",ce,[t("button",{onClick:e[12]||(e[12]=o=>r(N).delete(a.route("blocks.destroy",l.block))),class:"text-white bg-red-500 hover:bg-red-700 active:bg-red-900 rounded-md py-1 ease-in-out duration-200"},"Delete"),t("button",{onClick:e[13]||(e[13]=o=>_.value=!1),class:"border dark:border-gray-100 border-black hover:bg-black hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-800 py-1 rounded-md ease-in-out duration-200"},"Cancel")])])]),_:1},8,["show"]),s(V,{show:$.value,onClose:e[20]||(e[20]=o=>$.value=!1)},{default:h(()=>[t("div",ve,[s(v,{for:"lot_number",value:"Lot number"}),s(x,{onKeyup:c(y,["enter"]),id:"lot_number",type:"text",class:"mt-1 block w-full",modelValue:r(d).lot_number,"onUpdate:modelValue":e[15]||(e[15]=o=>r(d).lot_number=o)},null,8,["modelValue"]),l.errors.lot_number?(i(),u("span",xe,n(l.errors.lot_number),1)):m("",!0),s(v,{class:"mt-4",for:"price",value:"Price"}),s(x,{onKeyup:c(y,["enter"]),id:"price",type:"number",class:"mt-1 block w-full",modelValue:r(d).price,"onUpdate:modelValue":e[16]||(e[16]=o=>r(d).price=o)},null,8,["modelValue"]),l.errors.price?(i(),u("span",ke,n(l.errors.price),1)):m("",!0),s(v,{class:"mt-4",for:"contract_number",value:"Contract number"}),s(x,{onKeyup:c(y,["enter"]),id:"contract_number",type:"text",class:"mt-1 block w-full",modelValue:r(d).contract_number,"onUpdate:modelValue":e[17]||(e[17]=o=>r(d).contract_number=o)},null,8,["modelValue"]),l.errors.contract_number?(i(),u("span",ge,n(l.errors.contract_number),1)):m("",!0),s(v,{class:"mt-4",for:"owner",value:"Owner"}),s(x,{onKeyup:c(y,["enter"]),id:"owner",type:"text",class:"mt-1 block w-full",modelValue:r(d).owner,"onUpdate:modelValue":e[18]||(e[18]=o=>r(d).owner=o)},null,8,["modelValue"]),l.errors.owner?(i(),u("span",pe,n(l.errors.owner),1)):m("",!0),t("div",fe,[t("button",{onClick:e[19]||(e[19]=o=>$.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),t("button",{onClick:y,disabled:r(d).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},n(r(d).processing?"Processing":"Submit"),9,we)])])]),_:1},8,["show"]),s(V,{show:f.value,onClose:e[23]||(e[23]=o=>f.value=!1)},{default:h(()=>[t("div",ye,[t("div",he,[e[30]||(e[30]=t("i",{class:"bx bx-info-circle text-7xl text-red-500"},null,-1)),t("p",null,[e[28]||(e[28]=L("Delete lot number ")),t("b",null,n(j.value.lot_number),1),e[29]||(e[29]=L("?"))])]),t("div",Ve,[t("button",{onClick:e[21]||(e[21]=o=>r(N).delete(a.route("lots.destroy",j.value),{onSuccess:()=>{j.value=null,f.value=!1}})),class:"text-white bg-red-500 hover:bg-red-700 active:bg-red-900 rounded-md py-1 ease-in-out duration-200"},"Delete"),t("button",{onClick:e[22]||(e[22]=o=>f.value=!1),class:"border dark:border-gray-100 border-black hover:bg-black hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-800 py-1 rounded-md ease-in-out duration-200"},"Cancel")])])]),_:1},8,["show"])],64))}};export{Le as default};
