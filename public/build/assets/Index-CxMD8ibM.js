import{j as b,T as w,k as V,f as n,a as c,u as o,b as e,l as B,F as k,m as C,w as N,o as d,Z as j,p as y,t as l,q as f,g as h}from"./app-BvOZIJrG.js";import{_ as S}from"./Modal-DYy9QwUZ.js";import{a as x,_ as v}from"./TextInput-DIOnQL6V.js";const $={class:"pt-4 pb-8"},O={class:"max-w-screen-2xl mx-auto px-6 lg:px-8"},F={class:"lg:flex justify-between items-center sticky top-0 z-50 dark:bg-gray-900 bg-gray-100 py-4"},L={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 mt-4 z-10"},q={class:"relative overflow-x-auto rounded-lg"},K={class:"w-full text-sm text-left text-gray-500 dark:text-gray-100"},T=["onClick"],U={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-gray-200 whitespace-nowrap"},z={class:"px-6 py-4"},A={class:"px-6 py-4"},M={class:"px-6 py-4"},D={class:"px-6 py-4"},E={key:1,class:"flex justify-center mt-12 dark:text-gray-400 text-gray-700"},I={class:"p-4 dark:text-white"},P={key:0,class:"text-sm text-red-500"},Z={key:1,class:"text-sm text-red-500 mt-0"},G={class:"mt-6 flex flex-col-reverse md:flex-row justify-end md:space-x-6"},H=["disabled"],X={__name:"Index",props:{blocks:Object,filters:Object,errors:Object},setup(r){const _=r,i=b(!1),g=b(null),a=w({name:"",block_number:""}),m=b({search:_.filters.search});V(m,u=>{y.get(route("blocks.index"),u,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const p=()=>{a.post(route("blocks.store"),{preserveState:u=>Object.keys(u.props.errors).length>0,preserveScroll:!0})};return(u,t)=>(d(),n(k,null,[c(o(j),{title:"Memorial"}),e("div",$,[e("div",O,[e("div",F,[e("div",null,[t[6]||(t[6]=e("span",{class:"dark:text-white text-lg font-bold mr-4"},"Blocks",-1)),e("button",{onClick:t[0]||(t[0]=()=>{i.value=!0,B(()=>g.value.focus())}),class:"bg-blue-500 px-4 text-sm rounded-md text-white hover:bg-blue-700 active:bg-blue-800 ease-in-out duration-200"},"Add new")]),c(x,{modelValue:m.value.search,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.search=s),type:"text",class:"lg:w-96 mt-4 lg:mt-0 w-full",placeholder:"Search"},null,8,["modelValue"])]),r.blocks.length?(d(),n("div",L,[e("div",q,[e("table",K,[t[7]||(t[7]=e("thead",{class:"text-xs text-gray-700 dark:text-gray-200 uppercase bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Block Number "),e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," Occupied Lots "),e("th",{scope:"col",class:"px-6 py-3"}," Available Lots "),e("th",{scope:"col",class:"px-6 py-3"}," Total Lots ")])],-1)),e("tbody",null,[(d(!0),n(k,null,C(r.blocks,s=>(d(),n("tr",{onClick:J=>o(y).get(u.route("blocks.show",s)),class:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 last:border-none hover:bg-black/10 cursor-pointer"},[e("th",U,l(s.block_number),1),e("td",z,l(s.name),1),e("td",A,l(s.acquired_lots_count),1),e("td",M,l(s.lots_count-s.acquired_lots_count),1),e("td",D,l(s.lots_count),1)],8,T))),256))])])])])):(d(),n("div",E,t[8]||(t[8]=[e("span",null,"No data.",-1)])))])]),c(S,{show:i.value,onClose:t[5]||(t[5]=s=>i.value=!1)},{default:N(()=>[e("div",I,[c(v,{for:"name",value:"Block name"}),c(x,{ref_key:"blockName",ref:g,onKeyup:f(p,["enter"]),id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(a).name,"onUpdate:modelValue":t[2]||(t[2]=s=>o(a).name=s)},null,8,["modelValue"]),r.errors.name?(d(),n("span",P,l(r.errors.name),1)):h("",!0),c(v,{class:"mt-4",for:"block_number",value:"Block number"}),c(x,{onKeyup:f(p,["enter"]),id:"block_number",type:"text",class:"mt-1 block w-full",modelValue:o(a).block_number,"onUpdate:modelValue":t[3]||(t[3]=s=>o(a).block_number=s)},null,8,["modelValue"]),r.errors.block_number?(d(),n("span",Z,l(r.errors.block_number),1)):h("",!0),e("div",G,[e("button",{onClick:t[4]||(t[4]=s=>i.value=!1),type:"button",class:"dark:text-white hover:underline md:mt-0 mt-4"},"Cancel"),e("button",{onClick:p,disabled:o(a).processing,class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 active:bg-green-900 ease-in-out duration-200 disabled:opacity-20"},l(o(a).processing?"Processing":"Submit"),9,H)])])]),_:1},8,["show"])],64))}};export{X as default};
